!function(e){var t={};function o(i){if(t[i])return t[i].exports;var s=t[i]={exports:{},id:i,loaded:!1};return e[i].call(s.exports,s,s.exports,o),s.loaded=!0,s.exports}o.m=e,o.c=t,o.p="",o(0)}([function(e,t){AFRAME.registerSystem("font-awesome",{cache:{},promises:{},loaded:!1,promise:null,draw:function(e){const t=[e.charcode,e.color,e.size].join("-");if(!this.cache[t]){const o=e.size,i=document.createElement("canvas");i.width=o,i.height=o;const s=i.getContext("2d"),n=800/(1024/o),r=o/2;s.textAlign="center",s.textBaseline="middle",s.fillStyle=e.color,s.font=n+"px FontAwesome",s.fillText(String.fromCharCode("0x"+e.charcode),r,r),this.cache[t]=i.toDataURL()}return this.cache[t]},isStylesheetLoaded:function(){return this.loaded?Promise.resolve():(this.promise||(this.promise=new Promise(e=>{const t=o=>{o.fontfaces.find(e=>e.family.indexOf("FontAwesome")>-1)&&(document.fonts.removeEventListener("loadingdone",t),this.onLoaded(e))};document.fonts.addEventListener("loadingdone",t)})),this.promise)},onLoaded:function(e){this.el.emit("font-awesome.loaded"),this.loaded=!0,e()}}),AFRAME.registerComponent("font-awesome",{schema:{charcode:{type:"string"},color:{default:"#000",type:"string"},size:{default:"1024",type:"number"},visibleWhenDrawn:{default:"true",type:"boolean"}},update:function(){this.data.visibleWhenDrawn&&this.el.setAttribute("visible","false"),this.system.isStylesheetLoaded().then(function(){const e=this.system.draw(this.data);this.el.setAttribute("src",e),this.el.emit("font-awesome.drawn"),this.data.visibleWhenDrawn&&setTimeout(()=>this.el.setAttribute("visible","true"))}.bind(this))}}),AFRAME.registerPrimitive("a-font-awesome",{defaultComponents:{geometry:{primitive:"plane"},material:{transparent:"true"}},mappings:{charcode:"font-awesome.charcode",color:"font-awesome.color",size:"font-awesome.size",src:"material.src"}})}]);